import { Markdown } from '../../../components/Markdown';

# Lesson 1: Create a Keystone app

Learn how to install Keystone, create your first content type, and get your app up and running with an intuitive schema-powered editing environment.

---

## Introduction

Welcome to the Keystone getting started series!

Together we’ll learn how to turn an empty folder into a database-backed Keystone instance with related content types, publishing workflows, password protection, an intuitive editing environment, and more.

We’ll introduce the basics for each step along the way, and show you where to dive deeper into Keystone’s capabilities to build apps that meet your unique needs.

!> Looking for a quick Keystone demo? [Try our quick start CLI app](/docs/walkthroughs/getting-started-with-create-keystone-app)

This series assumes you have some basic familiarity with:

- **The command line**: also known as the `terminal` – a text-based interface used to run commands on your computer.
- **JavaScript & React**: A programming language that lets you make your web content dynamic and interactive.
- **[GraphQL](https://www.howtographql.com/)**: A query language that allows you to pull Keystone data into your frontend apps.
- The **Node ecosystem**:

While we don't cover Some knowledge for configuring and deploying databses **database administration**: we’ll use SQLite so you won;t have to configure much, but

!> In this walkthrough series we’ll use `yarn`, but you can use `npm` or any other package manager that you prefer.

## Install the Keystone package

The first thing we are going to do is set ourselves up a workspace for our new project. Let's make ourselves a new folder and initialise `yarn`.

```bash
mkdir keystone-learning
cd keystone-learning
yarn init
```

x> `@noviny` ... `yarn init` commands above show the yarn questions about name/version/etc. Should we make a comment about those so a total noob knows how to reason about them? (from a total noob ;>).

Yarn will ask you a few questions and setup your `package.json` file.

With this out of the way, let's add the Keystone package:

```bash
yarn add @keystone-6/core
```

## Setting up Keystone

There are two parts of Keystone's configuration that are required to start our project: `lists` and the `db`.

The `lists` define the shape of the information we want to save in our database, while the `db` defines how we will connect to our database.

For now though let us set up our `keystone.ts`:

```js
export default {};
```

When you run Keystone using `yarn keystone dev`, it will use this file's default export to as Keystone's configuration.
However, as is, if we try to run `yarn keystone dev` it will not work _yet_.

> If you want to use Keystone without TypeScript, you can use `keystone.js` instead.

### Setting up a Database

For our first project, we're going to use [SQLite](https://www.sqlite.org/) to minimise database configuration.
The configuration for a minimal example using SQLite example is below:

```js
import { config } from '@keystone-6/core';

export default config({
  db: {
    provider: 'sqlite',
    url: 'file:./keystone.db',
  },
});
```

This will use the local path `./keystone.db` for our database storage.

### Setting up a user list

We're almost there!
Now we are going to add a `User` list, with the two fields `name` and `email`:

```js{9-16}[5-8]
import { config, list } from '@keystone-6/core';
import { text } from '@keystone-6/core/fields';

export default config({
  db: {
    provider: 'sqlite',
    url: 'file:./keystone.db',
  },
  lists: {
    User: list({
      fields: {
        name: text({ isRequired: true }),
        email: text({ isRequired: true }),
      },
    }),
  },
});
```

The list names are derived from the keys in the `lists` object.
For example, the `User` key becomes the name for the respective `User` list.
This will be used in the Admin UI for the default display name of the list; and it is also used for the generated GraphQL API.
More on that later.

The field names are derived from the keys in the `fields` object.
This will be used in the Admin UI for the default display name of the fields; and it is also used for the generated GraphQL API.
Again, more on that later.

## Starting your new app

Congratulations!
You can now start Keystone instance:

```bash
yarn keystone dev
```

Wait until your terminal shows a link to the Admin UI:

```
go to [http://localhost:3000](http://localhost:3000)
```

Hurray! :tada:
You now have a running Keystone with one list.
Go to [http://localhost:3000](http://localhost:3000) to explore the Admin UI.
You should be able to create new users and manually populate their `name` and `email` fields using the interface.

Next lesson, we will add a second list for posts associated with our users.

export default ({ children }) => <Markdown description="Learn how to get your first Keystone project up and running using the `create-keystone-app` Command Line Interface.">{children}</Markdown>
